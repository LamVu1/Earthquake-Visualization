{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/javascripts/api.js","webpack:///./src/javascripts/form.js","webpack:///./src/javascripts/index.js","webpack:///./src/javascripts/map.js","webpack:///./src/javascripts/utils.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;;;;;ACjFO;AACP;AACA;AACA;AACA;;AAEA;;;AAGO;AACP;AACA;AACA,yFAAyF,MAAM,WAAW,IAAI;AAC9G;AACA;AACA,yFAAyF,MAAM;AAC/F;AACA;AACA;AACA;AACA;AACA,iCAAiC,IAAI;AACrC;AACA;AACA,mCAAmC,IAAI;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;;AAEA,C;;;;;;;;;;;;ACxCA;AAAA;AAAA;AAAoC;;;AAG7B;AACP;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,0DAAa;AACtB;;;;;;;;;;;;;;;;;;;ACVgC;AACF;AACI;AACJ;;;;;;AAM9B;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAQ;AACR;;AAEA;AACA,CAAC;;;;;;;;;;;;;;;;AAgBD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;;AAEA;;;;;;;;;;;;;;;;;;;;AC5CO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;;;AAIA;AACA,aAAa,6BAA6B;AAC1C;AACA;AACA;AACA;;AAEA,GAAG;AACH;;;AAGA,cAAc,wBAAwB;AACtC;AACA;AACA;AACA;AACA;AACA,qB;AACA,8B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,KAAK;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;AACA;AACA;;AAEA;AACA,4BAA4B,aAAa;;;AAGzC;AACA;AACA,KAAK;;AAEL;AACA;;AAEA,QAAQ;;AAER;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,E;;;AAGL;;AAEA;AACA,KAAK,wCAAwC;AAC7C;;;;;;;;;;;;;;;AAeA;;AAEA,8BAA8B,yCAAyC;AACvE;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,WAAW;;;AAGX;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8EAA8E,gBAAgB,EAAE;AAChG,IAAI;;;;AAIJ;;;;;;;;;;;;;ACxWA;AAAA;AAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/javascripts/index.js\");\n","\nexport const getEvents = () => {\n    let url='https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&minlatitude=32.399&maxlatitude=42.294&minlongitude=-124.321&maxlongitude=-114.258&minmagnitude=5';\n    return(\n    fetch(url)\n    .then((response)=>response.json()));\n   \n}\n\n\nexport const getEventsDate=(start, end, min, max)=>{\n    let url;\n    if(start && end){\n        url=`https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&starttime=${start}&endtime=${end}&minlatitude=32.399&maxlatitude=42.294&minlongitude=-124.321&maxlongitude=-114.258`\n    }\n    else if(!end){\n        url=`https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&starttime=${start}&minlatitude=32.399&maxlatitude=42.294&minlongitude=-124.321&maxlongitude=-114.258`;\n    }\n    else{\n        url='https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&minlatitude=32.399&maxlatitude=42.294&minlongitude=-124.321&maxlongitude=-114.258';\n    }\n    if(min){\n        url=url+`&minmagnitude=${min}`;\n    }\n    if(max){\n        url = url+`&maxmagnitude=${max}`\n    }\n    const loader = document.createElement('div')\n    loader.append('loading');\n    const map=document.getElementById('map')\n    map.innerHTML='loading'\n    return(\n        fetch(url)\n        .then((response)=>{\n           \n            return(response.json())\n\n        })\n        );\n\n}","import {getEventsDate} from './api';\n\n\nexport const filter = () => {\n  const start=document.getElementById('lower').value;\n  const end=document.getElementById('higher').value;\n  const min=document.getElementById('min-mag').value;\n  const max=document.getElementById('max-mag').value\n//   document.getElementById('lower').value='';\n//   document.getElementById('higher').value='';\n  return(getEventsDate(start,end, min, max));\n}\n","\nimport {getEvents} from './api';\nimport {initMap} from './map';\nimport {parseData} from './utils';\nimport {filter} from './form';\n\n\n\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    // getEvents().then((data)=>initMap(data));\n    // const form = document.getElementById('filter');\n    // form.addEventListener('submit',(e)=>{\n    //     e.preventDefault();\n    //     filter().then((data)=>initMap(data))\n    \n    // })\n    // initMap();\n\n    // getEvents().then((data)=>initMap(data))\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// var requestURL = 'https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&starttime=2019-09-01&minmagnitude=5';\n// var request = new XMLHttpRequest();\n// request.open('GET', requestURL);\n// request.responseType = 'json';\n\n// request.onload = function() {\n//     let data=JSON.parse(this.response);\n//     data.forEach(res=>{\n//       console.log(res);\n//     })\n// }\n\n// request.send();\n","\n\n\n\n\nexport const initMap=function(data) {\n\n  const style = [\n    {\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#212121\"\n        }\n      ]\n    },\n    {\n      \"elementType\": \"labels.icon\",\n      \"stylers\": [\n        {\n          \"visibility\": \"off\"\n        }\n      ]\n    },\n    {\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#757575\"\n        }\n      ]\n    },\n    {\n      \"elementType\": \"labels.text.stroke\",\n      \"stylers\": [\n        {\n          \"color\": \"#212121\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"administrative\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#757575\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"administrative.country\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#9e9e9e\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"administrative.land_parcel\",\n      \"stylers\": [\n        {\n          \"visibility\": \"off\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"administrative.locality\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#bdbdbd\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"poi\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#757575\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"poi.park\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#181818\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"poi.park\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#616161\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"poi.park\",\n      \"elementType\": \"labels.text.stroke\",\n      \"stylers\": [\n        {\n          \"color\": \"#1b1b1b\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#2c2c2c\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#8a8a8a\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road.arterial\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#373737\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road.highway\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#3c3c3c\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road.highway.controlled_access\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#4e4e4e\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road.local\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#616161\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"transit\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#757575\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"water\",\n      \"stylers\": [\n        {\n          \"visibility\": \"on\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"water\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"color\": \"#9cdfda\"\n        },\n        {\n          \"visibility\": \"on\"\n        }\n      ]\n    },\n    {\n      \"featureType\": \"water\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"color\": \"#9e9e9e\"\n        }\n      ]\n    }\n    \n  \n    \n  ]\n\n  \n  \n    const map = new google.maps.Map(document.getElementById('map'), {\n    center: { lat: 36.778, lng:  -119.417},\n    zoom: 7,\n    styles: style,\n    gestureHandling: 'greedy'\n    // mapTypeId: 'terrain'\n\n  });\n  let markers=[];\n \n  \n  for(let i=0; i<data.features.length;i++){\n    let coords = data.features[i].geometry.coordinates;\n    var latLng = new google.maps.LatLng(coords[1],coords[0]);\n    let content = data.features[i].properties.place\n    let mag=data.features[i].properties.mag\n    const low = [118,100,44]\n    // [90, 100, 69]; \n    const high = [5, 100, 49]; \n    const minMag = 2;\n    const maxMag = 6.0;\n    let d = new Date(data.features[i].properties.time);\n\n    const frac = mag/(maxMag-minMag)\n    function HSL(low,high,frac){\n      let colors=[];\n      for(let i=0; i<3;i++){\n        colors[i]=(high[i]-low[i])*frac+low[i];\n      }\n      return 'hsl(' + colors[0] + ',' + colors[1] + '%,' + colors[2] + '%)';\n    }\n    const color = HSL(low,high, frac);\n\n    let circle=new google.maps.Circle({\n      strokeColor: '#ffffff',\n        strokeOpacity: .8,\n        strokeWeight: 1,\n        fillColor: color,\n        fillOpacity: (1-mag/10),\n        map: map,\n        center: latLng,\n        radius: mag*10000\n    })\n\n  //   var image = {\n  //     url: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',\n  //     // This marker is 20 pixels wide by 32 pixels high.\n  //     size: new google.maps.Size(20, 32),\n  //     // The origin for this image is (0, 0).\n  //     origin: new google.maps.Point(0, 0),\n  //     // The anchor for this image is the base of the flagpole at (0, 32).\n  //     anchor: new google.maps.Point(0, 32),\n  //     opcaity:0\n  //   };\n  //  let p=google.maps.SymbolPath.CIRCLE\n\n    let marker = new google.maps.Marker({\n      position: latLng,\n      map: map,\n      // icon:{url:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z8BQDwAEhQGAhKmMIQAAAABJRU5ErkJggg==\",\n      // size: new google.maps.Size(100, 100)}\n      }\n      )\n\n      markers.push(marker)\n      // marker.setOptions({'opacity': 0})\n     \n\n   let infowindow = new google.maps.InfoWindow({\n      content: \"<p>\"+'Location: '+content +\"<br />\"+'Date: '+d+\"<br />\"+ ' Magnitude: '+mag+ \"<p>\"\n    });\n\n    // marker.addListener('click', function() {\n    //   infowindow.open(map, marker);\n    \n    // });\n    \n    // closeInfoWindow = function() {\n    //   infowindow.close();\n    // };\n    marker.open=false;\n\n    google.maps.event.addListener(marker, 'click', function() {\n      if(!marker.open){\n          infowindow.open(map,marker);\n          marker.open = true;\n      }\n      else{\n          infowindow.close();\n          marker.open = false;\n      }\n    }); \n\n\n  };\n\n  var markerCluster = new MarkerClusterer(map, markers,\n    {imagePath: './src/assets/m', maxZoom: 7});\n}\n\n      \n\n\n\n\n\n\n\n\n\n\n\n\n// // const heatmapData=[];\n      \n//       // heatmapData.push({location: latLng, weight:Math.pow(2,mag)});\n//       // var marker = new google.maps.Marker({\n//       //   position: latLng,\n//       //   map: map,\n//       // icon: icon});\n//     // var heatmap = new google.maps.visualization.HeatmapLayer({\n//     //   data: heatmapData,\n//     //   dissipating: false,\n//     //   map: map\n//     // })\n\n\n// export const initMap=function() {\n  \n//   var svg = d3.select(\"svg\");\n\n// var path = d3.geoPath();\n\n// d3.json(\"https://d3js.org/us-10m.v1.json\", function(error, us) {\n//   if (error) throw error;\n\n//   svg.append(\"g\")\n//       .attr(\"class\", \"states\")\n//     .selectAll(\"path\")\n//     .data(topojson.feature(us, us.objects.states).features)\n//     .enter().append(\"path\")\n//       .attr(\"d\", path);\n\n//   svg.append(\"path\")\n//       // .attr(\"class\", \"state-borders\")\n//       .attr(\"d\", path(topojson.mesh(us, us.objects.states, function(a, b) { return a !== b; })));\n// });\n  \n\n\n// }\n","export const parseData=(arr)=>{\n    let res=[];\n    arr.forEach((el)=>{\n        res.push(el)\n    })\n    return res;\n}\n\n\n"],"sourceRoot":""}